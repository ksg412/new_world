<!DOCTYPE HTML>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="common/layout/defaultLayout">
<head>
    <script type="text/javascript">
        function aa(){

        }

        function formSubmit() {

            /// event.preventDefault();
            var url = $("#frm").attr("action");
            var form = $('#frm')[0];
            var formData = new FormData(form);

            $.ajax({
                url: url,
                type: 'POST',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                cache: false,
                data: formData,
                success: function (data) {
                    if(data == false){
                        alert("실패하였습니다.");
                    }else{
                        alert("성공하였습니다.");
                        console.log(data);

                    }
                },
                error: function (data) {
                    alert(data);
                },
                cache: false,
                contentType: false,
                processData: false
            });
        };
    </script>
</head>
<body layout:fragment="content">
    <main class="flex-shrink-0">
        <div class="container">
            <h4 class="mt-3 mb-4">파일 관련 테스트</h4>
            <form id="frm" class="needs-validation" novalidate method="post" action="/test/uploadForm" enctype="multipart/form-data">
                <div class="row g-2 mb-5">
                    <div class="col-sm-12 col-md-6 col-lg-4">
                        <label for="formFile01" class="form-label">파일업로드1</label>
                        <input class="form-control" type="file" id="formFile01" name="formFile01">
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-4">
                        <label for="formFile02" class="form-label">파일업로드2</label>
                        <input class="form-control" type="file" id="formFile02" name="formFile02">
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-4">
                        <label for="formFile03" class="form-label">파일업로드3</label>
                        <input class="form-control" type="file" id="formFile03" name="formFile03">
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-4">
                        <label for="a" class="form-label">a</label>
                        <input type="text" class="form-control" id="a" name="a" placeholder="" value="" required>
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-4">
                        <label for="a" class="form-label">b</label>
                        <input type="text" class="form-control" id="b" name="b" placeholder="" value="" required>
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-4">
                        <label for="a" class="form-label">c</label>
                        <input type="text" class="form-control" id="c" name="c" placeholder="" value="" required>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a class="btn btn-warning" onclick="formSubmit()">submit</a>
                    </div>
                </div>
            </form>

            <a href="path_to_file" download="proposed_file_name">Download</a>
        </div>
    </main>

</body>
</html>